description: Generate wiki page content from context/instructions

inputs:
  pageName:
    type: string
    description: "The name of the wiki page"
    required: true
    control: text
  context:
    type: string
    description: "The context or instructions for generating the page content"
    required: true
    control: textarea
  wikiName:
    type: string
    description: "The name of the wiki this page belongs to"
    required: false
    control: text
  wikiDescription:
    type: string
    description: "The description of the wiki"
    required: false
    control: text
  styleguide:
    type: string
    description: "Optional styleguide/context from the wiki's 'context' page"
    required: false
    control: textarea

messages:
  - role: system
    content: |
      You are a writer responsible for creating well-structured content from a short context summary.
      
      Generate well-formatted Markdown content based on the provided context.
      
      ## Guidelines
      
      1. **Structure**: Use appropriate headings (##, ###), lists, and paragraphs
      2. **Clarity**: Write clear, concise, and professional content
      3. **Formatting**: Use Markdown formatting appropriately:
         - Bold for emphasis
         - Code blocks for technical content
         - Tables where appropriate
         - Links using Markdown syntax
      4. **Completeness**: Address all points mentioned in the context      
  - role: user
    content: |
      Wiki: {{wikiName}}
      Wiki Description: {{wikiDescription}}
      Page Name: {{pageName}}
      
      <context>
      {{context}}
      </context>

schema:
  $schema: "https://json-schema.org/draft/2020-12/schema"
  type: object
  properties:
    content:
      type: string
      description: "The generated Markdown content for the wiki page"
    summary:
      type: string
      description: "A brief one-line summary of the generated content"
    suggestedTitle:
      type: string
      description: "A suggested display title for the page (can be different from the URL-friendly pageName)"
  required:
    - content
    - summary
  additionalProperties: false
